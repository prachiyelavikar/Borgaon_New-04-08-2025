<div>
    <div nz-row class="my-box">
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t1'|translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <textarea nz-input name="DESCRIPTION_OF_JEWELS" [(ngModel)]="golddata1.DESCRIPTION_OF_JEWELS"
                        [nzAutosize]="{ minRows: 1, maxRows: 4 }" (input)="onInput($event)" [nzAutocomplete]="auto"
                        required></textarea>
                    <nz-autocomplete #auto>
                        <nz-auto-option *ngFor="let option of options" [nzValue]="option">{{option}}</nz-auto-option>
                    </nz-autocomplete>

                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="3">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t2'|translate }} </nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="TOTAL_QUANTITY" [(ngModel)]="golddata1.TOTAL_QUANTITY"
                        [nzMin]="1" [nzStep]="1" required></nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="3">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t3'|translate }} </nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="GROSS_WEIGHT" [(ngModel)]="golddata1.GROSS_WEIGHT"
                        [nzMin]="1" [nzStep]="1" required></nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="3">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t4'|translate }} </nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="NET_WEIGHT" [(ngModel)]="golddata1.NET_WEIGHT"
                        [nzMin]="1" (ngModelChange)="calculateValuation()" [nzStep]="1" required></nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-col nzSpan="3">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t5'|translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="PER_GRAM_RATE" [(ngModel)]="golddata1.PER_GRAM_RATE"
                        [nzMin]="1" (ngModelChange)="calculateValuation()" [nzStep]="1" required>
                    </nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t7'|translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <textarea nz-input name="REMARK" [(ngModel)]="golddata1.REMARK"
                        [nzAutosize]="{ minRows: 1, maxRows: 4 }" required></textarea>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t6'|translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="VALUATION_AMOUNT"
                        [(ngModel)]="golddata1.VALUATION_AMOUNT" [nzMin]="1" (ngModelChange)="AmounttoWordss($event)"
                        [nzStep]="1" required></nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>


        <div nz-col nzSpan="6">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{ 'loaninfomation.loanamount_title0' | translate}}
                    {{ 'basicinfo.text' | translate}}
                </nz-form-label>
                <nz-form-control nzErrorTip="{{ 'common_text.nzErrorTip' | translate}}">
                    <textarea nz-input name="AMOUNT_IN_WORDSSS" [(ngModel)]="golddata1.LOAN_AMOUNT_IN_WORDSSS"
                        [nzAutosize]="{ minRows: 1, maxRows: 2 }" required></textarea>
                </nz-form-control>
            </nz-form-item>
        </div>





        <div nz-col nzSpan="6">
            <nz-form-item>
                <nz-form-label nzNoColon></nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <button nz-button nzType="primary" (click)="addData()" nzJustify="end"
                        [nzLoading]="isButtonSpinning">
                        <i nz-icon nzType="plus"></i> {{'goldloan.button1'|translate }}
                    </button>
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>

    <div class="table-container">
        <nz-table [nzShowPagination]="false" class="sticky-header" nzBordered #table [nzFrontPagination]="false"
            [nzData]="dataList">
            <thead>
                <tr>
                    <th>{{'cash-credit-loan.label26'|translate }}</th>
                    <th>{{'goldloan.t1'|translate }}</th>
                    <th>{{'goldloan.t2'|translate }}</th>
                    <th>{{'goldloan.t3'|translate }}</th>
                    <th>{{'goldloan.t4'|translate }}</th>
                    <th>{{'goldloan.t5'|translate }}</th>
                    <th>{{'goldloan.t6'|translate }}</th>
                    <th>{{'goldloan.t7'|translate }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of table.data;index as i">
                    <td>
                        <a (click)="edit(data)" style="margin-right: 15px;"><i nz-icon nzType="edit"
                                nzTheme="twotone"></i></a>
                        <a (click)="delete(data)"><i nz-icon nzType="delete" nzTheme="twotone"
                                [nzTwotoneColor]="'#ff4d4f'"></i></a>
                    </td>
                    <td>
                        {{data['DESCRIPTION_OF_JEWELS']}}

                    </td>
                    <td>
                        {{data['TOTAL_QUANTITY']}}

                    </td>
                    <td>
                        {{data['GROSS_WEIGHT']}}

                    </td>
                    <td>
                        {{data['NET_WEIGHT']}}

                    </td>
                    <td>
                        {{data['PER_GRAM_RATE']}}

                    </td>
                    <td>
                        {{data['VALUATION_AMOUNT']}}

                    </td>
                    <td>
                        {{data['REMARK']}}

                    </td>

                </tr>
                <tr>
                    <td>

                    </td>
                    <td>
                        <b>Total</b>

                    </td>
                    <td>
                        <b>{{total11}}</b>
                    </td>
                    <td>
                        <b>{{total2}}</b>

                    </td>
                    <td>
                        <b>{{total3}}</b>

                    </td>
                    <td>

                    </td>
                    <td>
                        <b>{{data['total']}}</b>

                    </td>
                    <td>


                    </td>

                </tr>
            </tbody>

            {{calculateTotal()}}







        </nz-table>
    </div>

    <div nz-row class="my-box">
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>TOTAL</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <nz-input-number style="width: 100%;" name="TOTAL_AMOUNT" [(ngModel)]="total" [nzMin]="1"
                        (ngModelChange)="ValuationAmounttoWord($event)" [nzStep]="1" required></nz-input-number>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="12">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{ 'loaninfomation.loanamount_title0' | translate}}
                    {{ 'basicinfo.text' | translate}}
                </nz-form-label>
                <nz-form-control *ngIf="browserLang =='en'" nzErrorTip="{{ 'common_text.nzErrorTip' | translate}}">
                    <textarea nz-input name="VALUATION_AMOUNT_IN_WORDS" [(ngModel)]="data.VALUATION_AMOUNT_IN_WORDS"
                        [nzAutosize]="{ minRows: 1, maxRows: 2 }" required></textarea>
                </nz-form-control>
            </nz-form-item>
            <nz-form-control *ngIf="browserLang =='kn'">
                <input nz-input name="HAND_WRITTEN_AMT_IN_WORDS3" type="text"
                    [(ngModel)]="data.HAND_WRITTEN_AMT_IN_WORDS3" />
            </nz-form-control>
        </div>

        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{ 'loaninfomation.percent' | translate}}
                </nz-form-label>
                <nz-form-control nzErrorTip="{{ 'common_text.nzErrorTip' | translate}}">
                    <nz-input-number style="width: 100%;" name="PERCENT" [(ngModel)]="data.PERCENT" [nzMin]="1"
                    (ngModelChange)="percent()" [nzStep]="1" required>
                    </nz-input-number>

                </nz-form-control>
            </nz-form-item>
        </div>


        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{ 'loaninfomation.amount' | translate}}
                </nz-form-label>
                <nz-form-control nzErrorTip="{{ 'common_text.nzErrorTip' | translate}}">
                    <nz-input-number style="width: 100%;" name="AMOUNT" [(ngModel)]="data.AMOUNT" [nzMin]="1"
                        [nzStep]="1" required>
                    </nz-input-number>

                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-col nzSpan="10">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{ 'loaninfomation.loanamount_title' | translate}}
                </nz-form-label>
                <nz-form-control nzErrorTip="{{ 'common_text.nzErrorTip' | translate}}">
                    <nz-input-number style="width: 100%;" name="loanamount" [(ngModel)]="data.LOAN_AMOUNT1" [nzMin]="1"
                        [nzStep]="1" required>
                    </nz-input-number>

                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-col nzSpan="6">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t8'|translate }}</nz-form-label>
                <nz-form-control nzErrorTip="{{'common.nzErrorTip'| translate}}">
                    <input nz-input name="VALUATORS_NAME" type="text" [(ngModel)]="data.VALUATORS_NAME" />
                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-col nzSpan="4">
            <nz-form-item>
                <nz-form-label nzRequired nzNoColon>{{'goldloan.t9'|translate }}
                </nz-form-label>


                <nz-form-control>
                    <input nz-input
                        [textMask]="{mask: mask,guide:true,keepCharPositions:true,pipe:autoCorrectedDatePipe}"
                        placeholder="dd/mm/yyyy" type="text" [(ngModel)]="data.V_DATE" name="V_DATE" />
                </nz-form-control>
            </nz-form-item>
        </div>




    </div>



    <div nz-row class="my-box">
        <div nz-col nzSpan="13">
            <div nz-row>
                <div nz-col nzSpan="16">
                    <nz-form-item>
                        <nz-form-label nzNoColon> {{'loaninfomation.ltitle5'|translate }}</nz-form-label>
                        <nz-form-control>
                            <input nz-input name="NOMINEE_NAME" type="text" [(ngModel)]="data.NOMINEE_NAME" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col nzSpan="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon> {{'loaninfomation.ltitle7'|translate }}</nz-form-label>
                        <nz-form-control>
                            <input nz-input name="NOMINEE_AGE" type="text" [(ngModel)]="data.NOMINEE_AGE" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col nzSpan="16">
                    <nz-form-item>
                        <nz-form-label nzNoColon> {{'loaninfomation.ltitle8'|translate }}</nz-form-label>
                        <nz-form-control>
                            <input nz-input name="NOMINEE_RELATION" type="text" [(ngModel)]="data.NOMINEE_RELATION" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <!-- <div nz-col nzSpan="8">
                    <nz-form-item>
                        <nz-form-label nzNoColon>{{'gcreditinfo.th22'| translate}}</nz-form-label>
                        <nz-form-control>
                            <input nz-input
                                [textMask]="{mask: mask,guide:true,keepCharPositions:true,pipe:autoCorrectedDatePipe}"
                                placeholder="dd/mm/yyyy" type="text" [(ngModel)]="data.SANCTION_DATE"
                                name="DATE_OF_MEMBERSHIP" />
                        </nz-form-control>
                    </nz-form-item>
                </div> -->
            </div>
        </div>
        <div nz-col nzSpan="1"></div>
        <div nz-col nzSpan="10">
            <div nz-row>
                <div nz-col nzSpan="24">
                    <nz-form-item>
                        <nz-form-label nzNoColon>{{ 'loaninfomation.ltitle6' | translate}}
                        </nz-form-label>
                        <nz-form-control>
                            <textarea nz-input name="NOMINEE_ADDRESS" [(ngModel)]="data.NOMINEE_ADDRESS"
                                [nzAutosize]="{ minRows: 4, maxRows: 6 }"></textarea>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </div>


    </div>

    <button type="button" *ngIf="(roleId == '5' && CURRENT_STAGE_ID==8 )||(roleId == '4' && (CURRENT_STAGE_ID == 8 || CURRENT_STAGE_ID == 9))||(roleId == '12' && CURRENT_STAGE_ID==19)||(roleId == '14' && CURRENT_STAGE_ID==14)||(roleId == '13' && CURRENT_STAGE_ID==20)"style="float: right;" class="ant-btn ant-btn-primary" nz-button
        [nzLoading]="isButtonSpinning" (click)="save()"><span>{{ 'common_text.footer_btn5' |
            translate}}</span></button>

</div>
